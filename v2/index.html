<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÎåÄÏû•Í∞Ñ</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
</head>

<body>
    <div class="container">
        <!-- Minimalist Top Bar -->
        <header class="app-header">
            <div class="logo">ÎåÄÏû•Í∞Ñ <span>V3</span></div>
            <div class="header-actions">
                <button class="btn btn-icon" id="toggleTheme" title="ÌÖåÎßà Î≥ÄÍ≤Ω">üåó</button>
            </div>
        </header>

        <main class="app-layout">
            <!-- Sidebar / Control Panel -->
            <aside class="sidebar glass">
                <div class="sidebar-content">
                    <section class="control-group">
                        <details>
                            <summary>ÏõêÌåê Í∑úÍ≤© & ÏÑ§Ï†ï</summary>
                            <div class="input-row mt-2">
                                <div class="field">
                                    <span>W</span>
                                    <input type="number" id="boardWidth" value="2440">
                                </div>
                                <div class="field">
                                    <span>H</span>
                                    <input type="number" id="boardHeight" value="1220">
                                </div>
                            </div>
                            <div class="input-row mt-2">
                                <div class="field">
                                    <span
                                        style="font-size: 0.7rem; color: var(--text-muted); margin-right: 5px;">T(mm)</span>
                                    <input type="number" id="boardThickness" value="18">
                                </div>
                                <div class="field">
                                    <span
                                        style="font-size: 0.7rem; color: var(--text-muted); margin-right: 5px;">Kerf</span>
                                    <input type="number" id="kerfInput" value="5">
                                </div>
                            </div>
                            <label class="toggle-control mt-3">
                                <input type="checkbox" id="preCutting">
                                <span class="slider"></span>
                                <span class="toggle-text">Ï†ÑÎã®Ïª∑ÌåÖ (ÏÇ¨Î∞© 12mm ÏÜåÏã§)</span>
                            </label>
                        </details>
                    </section>

                    <section class="control-group">
                        <h2 class="label">Ï†àÎã® Ï∂îÍ∞Ä</h2>
                        <div class="input-table-row">
                            <div class="field">
                                <input type="number" id="partWidth" placeholder="Í∞ÄÎ°ú">
                            </div>
                            <div class="field">
                                <input type="number" id="partHeight" placeholder="ÏÑ∏Î°ú">
                            </div>
                            <div class="field">
                                <input type="number" id="partQty" value="1" placeholder="ÏàòÎüâ">
                            </div>
                            <button class="btn btn-add-inline" id="addPartBtn" title="Ï∂îÍ∞Ä">+</button>
                        </div>

                        <label class="toggle-control mt-3">
                            <input type="checkbox" id="partRotatable" checked>
                            <span class="slider"></span>
                            <span class="toggle-text">Í≤∞Î∞©Ìñ• Î¨¥Í¥Ä</span>
                        </label>
                    </section>

                    <section class="control-group parts-list-section">
                        <div class="section-header">
                            <h2 class="label">Î∂ÄÌíà Î™©Î°ù</h2>
                            <button id="clearBtn" class="link-btn">Clear all</button>
                        </div>
                        <div class="parts-container" id="partsList">
                            <!-- Dynamic -->
                        </div>
                    </section>

                    <div class="sidebar-footer">
                        <button class="btn btn-primary btn-full btn-lg" id="calculateBtn">
                            ÏµúÏ†ÅÌôî Ïã§Ìñâ
                        </button>
                    </div>
                </div>
            </aside>

            <!-- Main Preview Area -->
            <div class="main-content">
                <div class="view-tabs">
                    <button class="tab-btn active" data-view="2d">2D Drawing</button>
                    <button class="tab-btn" data-view="3d">3D Preview</button>
                </div>

                <div class="preview-container glass">
                    <!-- 2D View -->
                    <div id="canvasContainer" class="view-item active">
                        <canvas id="resultCanvas"></canvas>
                    </div>
                    <!-- 3D View -->
                    <div id="threeContainer" class="view-item"></div>

                    <!-- Placeholder for no results -->
                    <div id="emptyState" class="empty-state">
                        <div class="icon">‚öíÔ∏è</div>
                        <h3>Ïû¨Îã® Îç∞Ïù¥ÌÑ∞Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî</h3>
                        <p>ÏÇ¨Ïù¥ÎìúÎ∞îÏóêÏÑú Î∂ÄÌíàÏùÑ Ï∂îÍ∞ÄÌïòÍ≥† ÏµúÏ†ÅÌôî Î≤ÑÌäºÏùÑ ÌÅ¥Î¶≠ÌïòÏÑ∏Ïöî.</p>
                    </div>
                </div>

                <!-- Bento Grid Statistics -->
                <div class="bento-grid" id="statsGrid">
                    <div class="bento-item glass">
                        <span class="bento-label">Î∞∞Ïπò Ìö®Ïú®</span>
                        <div class="bento-value" id="statEfficiency">0%</div>
                    </div>
                    <div class="bento-item glass">
                        <span class="bento-label">ÎÇ®ÏùÄ Î©¥Ï†Å</span>
                        <div class="bento-value" id="statWaste">0%</div>
                    </div>
                    <div class="bento-item glass">
                        <span class="bento-label">Î∞∞Ïπò ÏôÑÎ£å</span>
                        <div class="bento-value" id="statPlaced">0/0</div>
                    </div>
                    <div class="bento-item glass">
                        <span class="bento-label">ÏòàÏÉÅ Ïû¨Îã®ÎπÑÏö©</span>
                        <div class="bento-value" id="statCost">0Ïõê</div>
                    </div>
                    <div class="bento-item glass">
                        <span class="bento-label">ÏÇ¨Ïö© Î©¥Ï†Å</span>
                        <div class="bento-value" id="statArea">0 m¬≤</div>
                    </div>
                </div>

                <div class="action-bar" id="resultActions" style="display: none;">
                    <button class="btn btn-soft" id="downloadBtn">üì∏ Ïä§ÌÅ¨Î¶∞ÏÉ∑ Ï†ÄÏû•</button>
                    <button class="btn btn-soft" id="downloadPdfBtn">üìÑ PDF Î¶¨Ìè¨Ìä∏ Î∞úÌñâ</button>
                </div>
            </div>
        </main>

        <!-- Mobile Bottom Sheet (Conceptual UI for JS) -->
        <div id="bottomSheet" class="bottom-sheet glass">
            <div class="sheet-handle"></div>
            <!-- Content will be mirrored or moved here in Mobile view via CSS/JS -->
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/packer.js"></script>
    <script src="js/renderer.js"></script>
    <script src="js/three-preview.js"></script>
    <script src="js/app.js"></script>
</body>

</html>